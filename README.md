# Репозиторий для практических работ по Kubernetes и Jenkins

Данный репозиторий содержит конфигурационные файлы (манифесты) и вспомогательные скрипты, предназначенные для выполнения практических работ по темам «Kubernetes» и «Jenkins».

Материалы структурированы для двух сценариев развертывания приложения: с одной репликой базы данных и с отказоустойчивой конфигурацией (репликация master-slave).

## Клонирование репозитория

Для получения локальной копии файлов необходимо выполнить следующую команду:

```bash
git clone https://github.com/isitunecon/jenkins-kubernetes.git
cd jenkins-kubernetes
```

## Структура репозитория

```
.
├── complex-setup/
│   └── (Усложненная версия. YAML-манифесты для развертывания приложения с отказоустойчивой конфигурацией базы данных)
├── simple-setup/
│   └── (Упрощенная версия. YAML-манифесты для базового развертывания приложения с одной репликой базы данных)
├── install-prerequisites.sh
├── setup-manifests.sh
├── prepare-jenkins-files.sh
└── README.md
```

### Описание файлов и директорий

- **`complex-setup/`** — Директория с YAML-манифестами для развертывания приложения с отказоустойчивой конфигурацией базы данных (master-slave репликация).

- **`simple-setup/`** — Директория с YAML-манифестами для базового развертывания приложения с одной репликой базы данных.

- **`install-prerequisites.sh`** — Скрипт для предварительной настройки системы и установки необходимых компонентов Kubernetes (containerd, kubeadm, kubelet, kubectl) на узлах кластера.

- **`setup-manifests.sh`** — Интерактивный скрипт для загрузки необходимого набора YAML-манифестов (упрощенного или усложненного варианта) в текущую директорию.

- **`prepare-jenkins-files.sh`** — Вспомогательный скрипт для подготовки конфигурационного файла `config.txt` из `~/.kube/config` и готового pipeline, необходимого для настройки Credentials в Jenkins.

## Порядок выполнения работ

### 1. Практическая работа «Kubernetes»

- Подготовка узлов кластера выполняется с использованием скрипта `install-prerequisites.sh`.
- Получение необходимых YAML-манифестов осуществляется с помощью скрипта `setup-manifests.sh`.

### 2. Практическая работа «Jenkins»

- Выполняется на базе кластера Kubernetes, развернутого на предыдущем этапе.

Подробные инструкции по каждому шагу содержатся в текстах соответствующих практических работ.

## Вопросы и предложения

При возникновении вопросов, обнаружении ошибок или наличии предложений по улучшению материалов рекомендуется создавать соответствующий запрос в разделе [Issues](../../issues) данного репозитория.
